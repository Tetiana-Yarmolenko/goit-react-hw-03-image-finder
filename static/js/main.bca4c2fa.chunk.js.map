{"version":3,"sources":["Components/Modal/Modal.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css","Components/ImageGallary/ImageGallery.module.css","Components/Loader/Loader.module.css","Components/Searchbar/Searchbar.js","service/imagesApi.js","Components/Modal/Modal.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallary/ImageGallery.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/ImageGalleryInfo/ImageGalleryInfo.js","Components/App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","imageName","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","name","placeholder","autoComplete","autoFocus","SearchFormInput","onChange","Component","imagesAPI","fetchImage","page","KEY","BASE_URL","fetch","then","response","ok","json","Promise","reject","Error","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","onClick","children","ImageGalleryItem","showModal","toggleModal","webformatURL","tags","largeImageURL","src","alt","ImageGalleryItemImage","style","display","maxWidth","height","ImageGallery","images","map","id","Button","onClickLoadMore","Container","LoaderPreview","wrapper","color","width","timeout","ImageGalleryInfo","status","prevState","prevProps","prevName","nextName","prevPage","nextPage","searchMoreImages","total","dark","hits","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","margin","textAlign","fontSize","Loader","length","App","handleSearchForm","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bca4c2fa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__GVOW5\",\"Modal\":\"Modal_Modal__xBr4G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1bQqr\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__rlORF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Button_Container__1vm0h\",\"Button\":\"Button_Button__1TTfW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3J_mi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Loader_wrapper__9UMaT\"};","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { toast } from 'react-toastify';\r\n import 'react-toastify/dist/ReactToastify.css';\r\nimport s from './Searchbar.module.css';\r\n\r\n\r\nclass Searchbar extends Component {\r\n     state = {\r\n    imageName: '',\r\n  };\r\n\r\n  handleNameChange = event => {\r\n    this.setState({ imageName: event.currentTarget.value.toLowerCase()});\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.imageName.trim() === '') {\r\n      toast.error('Please, enter something!');\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.imageName);\r\n    this.setState({ imageName: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n          <input\r\n            type=\"text\"\r\n            name=\"imageName\"\r\n            placeholder=\"Search images and photos\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            className={s.SearchFormInput}\r\n            value={this.state.imageName}\r\n            onChange={this.handleNameChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n}\r\nexport default  Searchbar","function fetchImage(name, page = 1) {\r\n    const KEY = '19139373-51a46ea3c9fa156df343c1c67';\r\n    const BASE_URL = 'https://pixabay.com/api/'\r\n\r\n    return fetch(\r\n         `${BASE_URL}?q=${name}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=6`,\r\n    ).then(response => {\r\n        if (response.ok) {\r\n            return response.json();\r\n        }\r\n        return Promise.reject(new Error('Invalid request'));\r\n    })\r\n}\r\n\r\nconst imagesAPI = {\r\n    fetchImage,\r\n};\r\n\r\nexport default imagesAPI;","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component{\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n   componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n    handleKeyDown = event => {\r\n        if (event.code === 'Escape') {\r\n            this.props.onClose();\r\n        }\r\n    };\r\n    \r\n    handleOverlayClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n    render()  {\r\n        return createPortal(\r\n        <div className={s.Overlay} onClick={this.handleOverlayClick} >\r\n                <div className={s.Modal}>\r\n                    {this.props.children}\r\n                </div>\r\n            </div>,\r\n            modalRoot,\r\n        );\r\n     } \r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n}","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Modal from '../Modal/Modal';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n    state = {\r\n        showModal: false,\r\n }\r\n    toggleModal = () => {\r\n        this.setState(({ showModal }) => ({\r\n            showModal: !showModal,\r\n        }));\r\n  }\r\n\r\n    render() {\r\n        const { webformatURL, tags, largeImageURL} = this.props;\r\n        const { showModal } = this.state;\r\n\r\n        return (\r\n            <li className={s.ImageGalleryItem}>\r\n                <img\r\n                    src={webformatURL}\r\n                    alt={tags}\r\n                    className={s.ImageGalleryItemImage}\r\n                    onClick={this.toggleModal}\r\n                />\r\n                {showModal && (\r\n                    <Modal onClose={this.toggleModal}>\r\n                        <img\r\n                            style={{\r\n                                display: 'block',\r\n                                maxWidth: '800px',\r\n                                height: 'auto',\r\n                            }}\r\n                    src={largeImageURL}\r\n                            alt={tags}\r\n                    />    \r\n                    </Modal>\r\n               )}          \r\n            </li>); \r\n    }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    tags:  PropTypes.string\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nexport default function ImageGallery({ images}) {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images  &&\r\n        images.map(({id, webformatURL, tags, largeImageURL}) => {\r\n          return (\r\n            <ImageGalleryItem\r\n              key={id}\r\n              webformatURL={webformatURL}\r\n              alt={tags}\r\n              largeImageURL={largeImageURL}\r\n            />\r\n          );\r\n        })}\r\n    </ul>\r\n  );\r\n}\r\n\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\n\r\n ","import s from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function Button({ onClickLoadMore }) {\r\n  return (\r\n    <div className={s.Container}>\r\n      <button type=\"button\" className={s.Button} onClick={onClickLoadMore}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClickLoadMore: PropTypes.func.isRequired,\r\n};","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport s from \"./Loader.module.css\";\r\n\r\nconst LoaderPreview = () => (\r\n  <div className={s.wrapper}>\r\n     <Loader\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n      />\r\n   </div>\r\n);\r\n\r\nexport default LoaderPreview","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nimport imagesAPI from '../../service/imagesApi';\r\nimport ImageGallery from '../ImageGallary/ImageGallery';\r\nimport Button from '../Button/Button';\r\nimport LoaderPreview from '../Loader/Loader';\r\n\r\n\r\n\r\n\r\nexport default class ImageGalleryInfo extends Component {\r\n  state = {\r\n    images: [],\r\n    page: 1,\r\n    error: null,\r\n    status: 'idle',\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevName = prevProps.imageName;\r\n    const nextName = this.props.imageName;\r\n    const prevPage = prevState.page;\r\n    const nextPage = this.state.page;\r\n    \r\n    if (prevName !== nextName) {\r\n     this.setState({images: [], page: 1})\r\n    }\r\n    \r\n    if (prevName !== nextName || prevPage !== nextPage) {\r\n      this.searchMoreImages(nextName, nextPage);\r\n      }\r\n  }\r\n\r\n  searchMoreImages(nextName, nextPage) {\r\n    this.setState({ status: 'pending' });\r\n\r\n    imagesAPI\r\n        .fetchImage(nextName, nextPage)\r\n        .then(images => {\r\n          if (images.total === 0) {\r\n            toast.dark('No images. Please try another query!');\r\n            this.setState({status: 'rejected'})\r\n            return;\r\n          }\r\n\r\n          this.setState(prevState => ({\r\n            images: [...prevState.images, ...images.hits],\r\n            status: 'resolved',\r\n          }));\r\n        })\r\n    .catch(error => this.setState({ error, status: 'rejected' }))\r\n    .finally(() => {\r\n        window.scrollTo({\r\n       top: document.documentElement.scrollHeight,\r\n       behavior: 'smooth',\r\n      });\r\n      });\r\n  }\r\n    \r\n\r\n   onClickLoadMore = () => {\r\n    this.setState(prevState => {\r\n      return { page: prevState.page + 1 };\r\n    });\r\n  };\r\n \r\n\r\n  render() {\r\n    const { images, status } = this.state;\r\n\r\n    return (\r\n      <>\r\n        {status === 'idle' && (\r\n          <div\r\n            style={{\r\n              margin: '20px auto',\r\n              textAlign: 'center',\r\n              fontSize: '40px',\r\n            }}\r\n          >\r\n            Please, enter a query!\r\n          </div>\r\n        )}\r\n         {status === 'pending' && (\r\n            <LoaderPreview />  \r\n        )}\r\n        {(images.length > 0 ||  status === 'resolved') && (\r\n          <>\r\n            <ImageGallery images={images} />\r\n            <Button onClickLoadMore={this.onClickLoadMore} />\r\n          </>\r\n        )}\r\n        {status === 'rejected' && null}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryInfo.propTypes = {\r\n  imageName: PropTypes.string.isRequired,\r\n}","import { Component } from 'react';\nimport { ToastContainer} from 'react-toastify';\nimport './App.css';\n\n\nimport Searchbar from './Searchbar/Searchbar'\nimport ImageGalleryInfo from './ImageGalleryInfo/ImageGalleryInfo'\n\n\nclass App extends Component {\n  state = {\n    imageName: '',\n  };\n\n  handleSearchForm = imageName => {\n    this.setState({ imageName });\n  };\n  \n  render() {\n   \n    return (\n     <>\n      <Searchbar onSubmit={this.handleSearchForm} />\n        <ImageGalleryInfo imageName={this.state.imageName} />\n        <ToastContainer autoClose={3000} />\n        </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1YG3v\",\"SearchForm\":\"Searchbar_SearchForm__1HAss\",\"SearchFormButton\":\"Searchbar_SearchFormButton__35UZz\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1W_64\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3ebH7\"};"],"sourceRoot":""}